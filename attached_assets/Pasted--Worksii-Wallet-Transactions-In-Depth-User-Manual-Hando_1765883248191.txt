# Worksii – Wallet Transactions

## In‑Depth User Manual & Handover Guide (New Admin Friendly)

---

## 1. What is the Wallet in Worksii?

The **Worksii Wallet** is a **central prepaid balance** used by the system to pay for all chargeable activities such as:

* Campaign execution
* WhatsApp message delivery
* SMS sending
* Other paid messaging or service usage

Instead of charging per action in real time from a card or bank, Worksii **deducts costs from the wallet balance**. This design ensures:

* Faster message processing
* Better cost control
* Clear financial audit trails

The **Wallet Transactions** module is the **single source of truth** for understanding how money moves in and out of this wallet.

---

## 2. Why Wallet Transactions Are Critical

For a new admin, this module answers key operational questions:

* How much money has been added to the system?
* How much money has been spent?
* Why did a campaign stop?
* Did a payment fail or succeed?
* Is auto top‑up working correctly?

If something goes wrong with campaigns or messaging, **Wallet Transactions is always the first place to check**.

---

## 3. Navigation & Page Layout

### 3.1 Navigation Path

**Dashboard → Wallet Transactions**

### 3.2 Page Structure Overview

The page is divided into four logical sections:

1. Wallet summary cards (top)
2. Filter Transactions panel
3. Transactions table
4. Action buttons (Add Funds, filters)

Each section is explained in detail below.

---

## 4. Wallet Summary Cards (Top Section)

These cards give an **instant financial snapshot** without needing to read individual transactions.

---

### 4.1 Total Deposits

**What it means:**

* The total amount of money that has been **successfully added** to the wallet

**Why it matters:**

* Confirms how much funding the system has received
* Useful for finance reconciliation

**Example:**

* If Total Deposits = $913
* That means $913 has been successfully credited to the wallet

---

### 4.2 Total Withdrawals

**What it means:**

* The total amount **spent from the wallet**

**What causes withdrawals:**

* Campaign execution
* Message sending (WhatsApp/SMS)
* System‑initiated charges

**Important concept:**

* Withdrawals are usually **automatic**, not manually triggered

---

### 4.3 Successful Transactions

**What it means:**

* Total number and value of transactions that completed successfully
* Includes both deposits and withdrawals

**Why it matters:**

* Confirms that the system and payment gateways are working normally

---

### 4.4 Failed Transactions

**What it means:**

* Number and value of transactions that failed

**Common reasons:**

* Payment gateway error
* Network timeout
* Insufficient balance
* Invalid configuration

**Key rule:**

* Failed transactions **do NOT change the wallet balance**

---

## 5. Add Funds (How Money Enters the Wallet)

Adding funds is the **primary and only manual process** to increase the Worksii wallet balance. This process is usually performed by an **admin or finance user** before running campaigns or when the wallet balance is low.

Think of the wallet like a **prepaid balance**. If there is no money in the wallet, campaigns and messages **cannot run**. Add Funds ensures the wallet has enough balance to operate.

---

### 5.1 When Should You Add Funds?

You should add funds when:

* You are setting up Worksii for the first time
* Wallet balance is low or zero
* You are planning to run a large or long campaign
* Auto Top-Up is disabled or failed

A good practice is to **add funds before the wallet reaches zero**.

---

### 5.2 Step-by-Step Add Funding Flow (Very Detailed)

Below is the **exact and complete user journey**, explained in simple terms:

#### Step 1: Click "Add Funds"

* Located at the **top-right corner** of the Wallet Transactions page
* This opens the Add Funds form

---

#### Step 2: Enter Funding Amount

* Enter the amount you want to add to the wallet
* This is the **credit amount** that will increase your wallet balance
* Only numeric values are allowed

**Example:**

* Entering `100` means you want to add $100 to the wallet

---

#### Step 3: Select Payment Method

* Choose the payment method from the dropdown
* Currently supported method:

  * **Stripe**

Stripe is a secure third-party payment gateway used to process the payment.

---

#### Step 4: Click "Next"

* Clicking **Next** confirms the entered amount and payment method
* You are then redirected to the **Stripe payment page**

At this point:

* Worksii pauses the process
* Stripe takes over the payment handling

---

#### Step 5: Stripe Payment Page

On the Stripe page:

* Enter card or payment details (as required by Stripe)
* Review the payment amount
* Click **Pay Now** to complete the payment

You may also:

* Cancel the payment
* Go back without completing payment

---

#### Step 6: Return to Worksii

After Stripe processing:

* If payment is successful, you are redirected back to Worksii automatically, OR
* You may manually navigate back to the Worksii application

---

### 5.3 What Happens If Payment Is Successful?

When Stripe confirms a successful payment:

System actions:

* A **Deposit transaction** is created
* Transaction status is set to **Succeeded**
* Wallet balance is **immediately increased** by the funding amount
* The transaction appears in the Wallet Transactions table
* **Total Deposits** summary card increases

**Very important rule:**

> Wallet balance updates **only after Stripe confirms success**.

---

### 5.4 What Happens If Payment Fails or Is Cancelled?

If the payment:

* Fails due to card or network issues, OR
* Is cancelled by the user, OR
* User clicks back without paying

Then:

* No money is added to the wallet
* Wallet balance remains unchanged
* A **Failed** transaction may be recorded for tracking

This ensures:

* No incorrect balance increase
* Full financial accuracy

---

### 5.5 How to Verify Add Funds Was Successful (Admin Checklist)

After completing Add Funds, always verify:

✔ Wallet balance has increased
✔ A new transaction appears in the table
✔ Transaction Type = Deposit
✔ Transaction Status = Succeeded
✔ Total Deposits card is updated

If any of the above is missing, investigate before running campaigns.

---

### 5.6 Common Mistakes During Add Funds

* Entering the wrong amount
* Closing the browser during Stripe payment
* Assuming balance updated without checking status
* Running campaigns before confirming payment success

---

## 6. Filter Transactions (Understanding History)

Filter Transactions (Understanding History)

The filter panel helps narrow down large transaction lists.

### 6.1 From Date & To Date

* Used to limit transactions to a specific time period
* Very useful for:

  * Daily checks
  * Monthly finance reports
  * Incident investigation

---

### 6.2 Status Filter

Available options:

* All Status
* Succeeded
* Failed

**Usage example:**

* Select **Failed** to investigate payment issues

---

### 6.3 Transaction Type Filter

Available options:

* All Types
* Deposit
* Withdrawal

**Usage example:**

* Select **Withdrawal** to understand campaign costs

---

### 6.4 Apply & Clear Filters

* **Apply Filters** → Shows filtered results
* **Clear All** → Resets filters to default

---

## 7. Wallet Transactions Table (Line‑by‑Line Explanation)

Each row in the table represents **one financial event**.

### 7.1 Table Columns Explained

**SN**

* Serial number for easy reference

**Amount**

* Positive value (e.g., +$10) → Deposit
* Negative value (e.g., −$4) → Withdrawal

**Date**

* Exact date and time when the transaction occurred

**Method**

* Payment method used (if applicable)
* May be blank for system‑initiated withdrawals

**Status**

* Succeeded → Transaction completed
* Failed → Transaction did not complete

**Type**

* Deposit → Money added
* Withdrawal → Money deducted

---

## 8. How Withdrawals Actually Happen (Very Important)

Withdrawals are usually **not manual**.

They occur when:

* A campaign is executed
* Messages are sent
* Paid services are consumed

**Key behavior:**

* The system deducts cost automatically
* Each deduction is logged as a withdrawal
* Multiple withdrawals may appear close together during active campaigns

---

## 9. Relationship with Auto Top‑Up (Conceptual)

If **Auto Top‑Up** is enabled:

1. Wallet balance drops below threshold
2. System triggers auto deposit
3. Deposit appears as **Succeeded / Failed** transaction
4. Campaigns continue without interruption (if successful)

If auto top‑up fails:

* Wallet balance remains low
* Campaigns may fail
* Failed transaction will appear here

---

## 10. Real User Stories (New Admin Perspective)

### User Story 1: Campaign Suddenly Stops

**Question:** Why did messages stop?

**Steps:**

* Open Wallet Transactions
* Check recent withdrawals
* Check wallet balance
* Look for failed deposits

---

### User Story 2: Finance Reconciliation

**Question:** How much did we spend last week?

**Steps:**

* Filter by date range
* Filter by Withdrawal
* Sum withdrawal amounts

---

### User Story 3: Investigating Failures

**Question:** Why are payments failing?

**Steps:**

* Filter by Status = Failed
* Check method and timing
* Correlate with gateway logs

---

## 11. Common Admin Mistakes

* Ignoring failed transactions
* Running campaigns with low wallet balance
* Not checking withdrawal spikes
* Assuming campaigns failed due to system bugs (often wallet‑related)

---

## 12. Best Practices (Strongly Recommended)

* Check wallet balance daily during active campaigns
* Monitor failed transactions immediately
* Keep sufficient buffer balance
* Review withdrawals after large campaigns

---

## 14. QA Validation Scenarios

* Verify deposit increases wallet balance
* Verify withdrawal decreases wallet balance
* Verify failed transaction does not affect balance
* Verify filters return correct records

---

**End of Document**
